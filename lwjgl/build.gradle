plugins {
    id "java"
}

sourceSets {
    generated {
        java
    }

    main {
        compileClasspath += sourceSets.generated.compileClasspath
        runtimeClasspath += sourceSets.generated.runtimeClasspath
    }
}

dependencies {
    implementation(files("../libs/AppleJavaExtensions.jar"))
    implementation(files("../libs/asm-debug-all.jar"))
    implementation(project(":lwjgl-common"))
    implementation("net.java.jinput:jinput:2.0.5")
}

compileJava {
    dependsOn ":lwjgl-templates:generateAll"
    options.getHeaderOutputDirectory().set(file("../lwjgl-platform/src/generated/c/"))

    source project(":lwjgl-common").sourceSets.main.java, sourceSets.main.java, sourceSets.generated.java
}