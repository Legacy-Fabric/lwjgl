plugins {
    id "java"
}

compileJava {
    options.getHeaderOutputDirectory().set(file("../lwjgl-platform/src/generated/c/"))
}

def taskName = project.gradle.startParameter.taskNames[0]

def ENV = System.getenv()

if (!(taskName == "compile_native" && Boolean.valueOf(ENV.CI))) {
    java {
        toolchain {
            languageVersion = JavaLanguageVersion.of(8)
        }
    }
}